---
title: "FEがWordPressを攻略する #3 ── トップページでの投稿アーカイブ、お問い合わせフォーム、スタイリング"
date: "20210428"
tags: ["プログラミング", "WordPress"]
thumbnail: "thumbnail.png"
---

## 全体の目次

この記事は第3回目（最終回）の記事となる。

### [第1回](../wordpress-introduction1/)

- はじめに
- ローカル環境を用意する
- デフォルトテーマを剥がして無のテーマを作る
- 「固定ページ」と「投稿」と「カスタム投稿タイプ」の解説
- カスタム投稿タイプの作成

### [第2回](../wordpress-introduction2/)

- カスタム投稿タイプごとに「一覧ページ」と「本文ページ」を作る
- 「実績紹介」ページにカスタムフィールド「執筆者」を追加する
- 固定ページを追加する

### 第3回（この記事）

- トップページにも「ニュース」と「実績紹介」の一部を表示する
- デフォルトの「投稿」を含む、各種投稿タイプの動作を解説
- お問い合わせフォームを追加する（おまけ）
- 細かい調整と、サイトの完成形の紹介

## トップページにも「ニュース」と「実績紹介」の一部を表示する

現在、ニュースと実績紹介には独立したアーカイブ（記事一覧）ページが存在する。しかし、

- ニュースや実績紹介のうち、最新の数件はトップページにもリンクを作成したい

といったニーズもあるはずだ。そこで、今回はindex.phpに最新記事のうちいくつかを表示する作業から進めていく。

執筆中

## 各種投稿タイプの動作について

本記事ではこれまで、とりあえず一度納得して進んでいただく形で

> デフォルトの「投稿」は**サイトの構成上、そのサイトの中核となるような記事コンテンツがある**のであればそれ用に使う。ないのであれば、すべて『**カスタム投稿タイプ**』として管理してしまう。今回はブログのように「投稿型コンテンツがサイトの中核となる」わけではなく、「通常のWebサイトにいくつか投稿型のコンテンツがくっついている」ようなページを作成する。そのためデフォルトの「投稿」はいったん利用せずに、「実績紹介」と「ニュース」をカスタム投稿タイプで管理していくことにする。

という方針で作業を進めてきた。ひととおりのページ作成について解説が終了した今、復習も兼ねて

- デフォルトの「投稿」も含む、各種投稿タイプのパーマリンクやファイル名の動作法則

について解説していきたい。

### パーマリンクの動作

### phpのファイル名と読み込みの法則

## お問い合わせフォームを追加する（おまけ）

さて、ここからはWordPressの最も基本的な機能からは少し離れるのだが、プラグインの導入方法を紹介するついでに実装の機会が多いであろう「お問い合わせフォーム」の追加方法を解説する。フォームプラグインにも様々な種類があるので要件に応じた選定が必要だが、今回は「[MW WP FORM](https://ja.wordpress.org/plugins/mw-wp-form/)」という国産のプラグインを利用してみよう。

## サイトの完成形の紹介

これまでの作業では一切CSSの調整を行っていなかったので、コーポレートサイトとして最低限見栄えする簡易的なスタイルを付与してみた。

### WordPressにおける「スタイリング」と「インタラクション」の実装

これまであえてまったく触れてこなかったのだが、WordPressは**UIに関連する機能を特に提供していない**。そのため、これまで作成してきたWebサイトにオリジナルのスタイルを当てたいのであれば、通常のHTMLコーディングと全く同様に

- 要素にクラスなどを当てて、CSSでスタイリングする
- JSでインタラクティブなUIを作成する

という手順を取ればよい。たとえば、

- 実績一覧をカルーセルで表示したい

なら、ループ文で書き出されるHTMLの構造を調整し、JSでカルーセルを作成すればよいだけの話だ。今回はFE向けの解説のためこれらの内容については特に触れないが、**WordPressはあくまでコンテンツの構造づくりと管理、呼び出しのためにカスタマイズするものであって、あとは静的なWebサイトと同じように制作を進めればよい**という感覚を持つことでだいぶ取っつきやすくなるのではないだろうか。

### おわりに

当初はちょっとしたTIPS記事程度のボリュームとするつもりだったのだが、最終的には全3回もの連載記事となってしまった。

繰り返すが、あくまで本記事は「慌ててWordPressに入門した初学者FE」の目線で記載したものであるため、WPの運用方法としてベストでない記述などもあるかもしれないので注意してほしい。

とはいえ、

- テーマの自作を前提としている
- フロントエンド的な知識はある程度持っている読者層向け
- プラグインを積極採用しない（挙動を知ることを優先する）

という方針でまとまっている記事はあまりない印象だったため、この記事が何かの役に立てば幸いだ。
